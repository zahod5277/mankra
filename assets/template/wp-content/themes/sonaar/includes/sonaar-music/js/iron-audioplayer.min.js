!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.moment=e()}(this,function(){"use strict";function t(){return Lt.apply(null,arguments)}function e(t){return"[object Array]"===Object.prototype.toString.call(t)}function i(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function s(t,e){var i,s=[];for(i=0;i<t.length;++i)s.push(e(t[i],i));return s}function n(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function a(t,e){for(var i in e)n(e,i)&&(t[i]=e[i]);return n(e,"toString")&&(t.toString=e.toString),n(e,"valueOf")&&(t.valueOf=e.valueOf),t}function r(t,e,i,s){return at(t,e,i,s,!0).utc()}function o(t){return null==t._pf&&(t._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}),t._pf}function h(t){if(null==t._isValid){var e=o(t);t._isValid=!(isNaN(t._d.getTime())||!(e.overflow<0)||e.empty||e.invalidMonth||e.invalidWeekday||e.nullInput||e.invalidFormat||e.userInvalidated),t._strict&&(t._isValid=t._isValid&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour)}return t._isValid}function u(t){var e=r(NaN);return null!=t?a(o(e),t):o(e).userInvalidated=!0,e}function l(t){return void 0===t}function d(t,e){var i,s,n;if(l(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),l(e._i)||(t._i=e._i),l(e._f)||(t._f=e._f),l(e._l)||(t._l=e._l),l(e._strict)||(t._strict=e._strict),l(e._tzm)||(t._tzm=e._tzm),l(e._isUTC)||(t._isUTC=e._isUTC),l(e._offset)||(t._offset=e._offset),l(e._pf)||(t._pf=o(e)),l(e._locale)||(t._locale=e._locale),Ut.length>0)for(i in Ut)l(n=e[s=Ut[i]])||(t[s]=n);return t}function c(e){d(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),!1===Gt&&(Gt=!0,t.updateOffset(this),Gt=!1)}function f(t){return t instanceof c||null!=t&&null!=t._isAMomentObject}function m(t){return 0>t?Math.ceil(t):Math.floor(t)}function p(t){var e=+t,i=0;return 0!==e&&isFinite(e)&&(i=m(e)),i}function v(t,e,i){var s,n=Math.min(t.length,e.length),a=Math.abs(t.length-e.length),r=0;for(s=0;n>s;s++)(i&&t[s]!==e[s]||!i&&p(t[s])!==p(e[s]))&&r++;return r+a}function y(){}function g(t){return t?t.toLowerCase().replace("_","-"):t}function _(t){var e=null;if(!Ht[t]&&"undefined"!=typeof module&&module&&module.exports)try{e=Ft._abbr,require("./locale/"+t),w(e)}catch(t){}return Ht[t]}function w(t,e){var i;return t&&((i=l(e)?k(t):b(t,e))&&(Ft=i)),Ft._abbr}function b(t,e){return null!==e?(e.abbr=t,Ht[t]=Ht[t]||new y,Ht[t].set(e),w(t),Ht[t]):(delete Ht[t],null)}function k(t){var i;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return Ft;if(!e(t)){if(i=_(t))return i;t=[t]}return function(t){for(var e,i,s,n,a=0;a<t.length;){for(e=(n=g(t[a]).split("-")).length,i=(i=g(t[a+1]))?i.split("-"):null;e>0;){if(s=_(n.slice(0,e).join("-")))return s;if(i&&i.length>=e&&v(n,i,!0)>=e-1)break;e--}a++}return null}(t)}function x(t,e){var i=t.toLowerCase();Vt[i]=Vt[i+"s"]=Vt[e]=t}function C(t){return"string"==typeof t?Vt[t]||Vt[t.toLowerCase()]:void 0}function S(t){var e,i,s={};for(i in t)n(t,i)&&((e=C(i))&&(s[e]=t[i]));return s}function P(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function D(e,i){return function(s){return null!=s?(T(this,e,s),t.updateOffset(this,i),this):M(this,e)}}function M(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function T(t,e,i){t.isValid()&&t._d["set"+(t._isUTC?"UTC":"")+e](i)}function Y(t,e){var i;if("object"==typeof t)for(i in t)this.set(i,t[i]);else if(P(this[t=C(t)]))return this[t](e);return this}function E(t,e,i){var s=""+Math.abs(t),n=e-s.length;return(t>=0?i?"+":"":"-")+Math.pow(10,Math.max(0,n)).toString().substr(1)+s}function W(t,e,i,s){var n=s;"string"==typeof s&&(n=function(){return this[s]()}),t&&(Zt[t]=n),e&&(Zt[e[0]]=function(){return E(n.apply(this,arguments),e[1],e[2])}),i&&(Zt[i]=function(){return this.localeData().ordinal(n.apply(this,arguments),t)})}function O(t,e){return t.isValid()?(e=A(e,t.localeData()),Bt[e]=Bt[e]||function(t){var e,i,s,n=t.match(jt);for(e=0,i=n.length;i>e;e++)Zt[n[e]]?n[e]=Zt[n[e]]:n[e]=(s=n[e]).match(/\[[\s\S]/)?s.replace(/^\[|\]$/g,""):s.replace(/\\/g,"");return function(s){var a="";for(e=0;i>e;e++)a+=n[e]instanceof Function?n[e].call(s,t):n[e];return a}}(e),Bt[e](t)):t.localeData().invalidDate()}function A(t,e){function i(t){return e.longDateFormat(t)||t}var s=5;for(zt.lastIndex=0;s>=0&&zt.test(t);)t=t.replace(zt,i),zt.lastIndex=0,s-=1;return t}function R(t,e,i){le[t]=P(e)?e:function(t,s){return t&&i?i:e}}function N(t,e){return n(le,t)?le[t](e._strict,e._locale):new RegExp(I(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,i,s,n){return e||i||s||n})))}function I(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function L(t,e){var i,s=e;for("string"==typeof t&&(t=[t]),"number"==typeof e&&(s=function(t,i){i[e]=p(t)}),i=0;i<t.length;i++)de[t[i]]=s}function F(t,e){L(t,function(t,i,s,n){s._w=s._w||{},e(t,s._w,s,n)})}function U(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}function G(t,e){var i;return t.isValid()?"string"==typeof e&&"number"!=typeof(e=t.localeData().monthsParse(e))?t:(i=Math.min(t.date(),U(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,i),t):t}function H(e){return null!=e?(G(this,e),t.updateOffset(this,!0),this):M(this,"Month")}function V(){function t(t,e){return e.length-t.length}var e,i,s=[],n=[],a=[];for(e=0;12>e;e++)i=r([2e3,e]),s.push(this.monthsShort(i,"")),n.push(this.months(i,"")),a.push(this.months(i,"")),a.push(this.monthsShort(i,""));for(s.sort(t),n.sort(t),a.sort(t),e=0;12>e;e++)s[e]=I(s[e]),n[e]=I(n[e]),a[e]=I(a[e]);this._monthsRegex=new RegExp("^("+a.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")$","i"),this._monthsShortStrictRegex=new RegExp("^("+s.join("|")+")$","i")}function j(t){var e,i=t._a;return i&&-2===o(t).overflow&&(e=i[fe]<0||i[fe]>11?fe:i[me]<1||i[me]>U(i[ce],i[fe])?me:i[pe]<0||i[pe]>24||24===i[pe]&&(0!==i[ve]||0!==i[ye]||0!==i[ge])?pe:i[ve]<0||i[ve]>59?ve:i[ye]<0||i[ye]>59?ye:i[ge]<0||i[ge]>999?ge:-1,o(t)._overflowDayOfYear&&(ce>e||e>me)&&(e=me),o(t)._overflowWeeks&&-1===e&&(e=_e),o(t)._overflowWeekday&&-1===e&&(e=we),o(t).overflow=e),t}function z(e){!1===t.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function B(t,e){var i=!0;return a(function(){return i&&(z(t+"\nArguments: "+Array.prototype.slice.call(arguments).join(", ")+"\n"+(new Error).stack),i=!1),e.apply(this,arguments)},e)}function Z(t){var e,i,s,n,a,r,h=t._i,u=De.exec(h)||Me.exec(h);if(u){for(o(t).iso=!0,e=0,i=Ye.length;i>e;e++)if(Ye[e][1].exec(u[1])){n=Ye[e][0],s=!1!==Ye[e][2];break}if(null==n)return void(t._isValid=!1);if(u[3]){for(e=0,i=Ee.length;i>e;e++)if(Ee[e][1].exec(u[3])){a=(u[2]||" ")+Ee[e][0];break}if(null==a)return void(t._isValid=!1)}if(!s&&null!=a)return void(t._isValid=!1);if(u[4]){if(!Te.exec(u[4]))return void(t._isValid=!1);r="Z"}t._f=n+(a||"")+(r||""),st(t)}else t._isValid=!1}function q(t){var e=new Date(Date.UTC.apply(null,arguments));return 100>t&&t>=0&&isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t),e}function J(t){return $(t)?366:365}function $(t){return t%4==0&&t%100!=0||t%400==0}function Q(t,e,i){var s=7+e-i;return-((7+q(t,0,s).getUTCDay()-e)%7)+s-1}function X(t,e,i,s,n){var a,r,o=1+7*(e-1)+(7+i-s)%7+Q(t,s,n);return 0>=o?r=J(a=t-1)+o:o>J(t)?(a=t+1,r=o-J(t)):(a=t,r=o),{year:a,dayOfYear:r}}function K(t,e,i){var s,n,a=Q(t.year(),e,i),r=Math.floor((t.dayOfYear()-a-1)/7)+1;return 1>r?s=r+tt(n=t.year()-1,e,i):r>tt(t.year(),e,i)?(s=r-tt(t.year(),e,i),n=t.year()+1):(n=t.year(),s=r),{week:s,year:n}}function tt(t,e,i){var s=Q(t,e,i),n=Q(t+1,e,i);return(J(t)-s+n)/7}function et(t,e,i){return null!=t?t:null!=e?e:i}function it(e){var i,s,n,a,r,h,u,l,d,c,f,m,p,v,y,g=[];if(!e._d){for(v=e,y=void 0,y=new Date(t.now()),n=v._useUTC?[y.getUTCFullYear(),y.getUTCMonth(),y.getUTCDate()]:[y.getFullYear(),y.getMonth(),y.getDate()],e._w&&null==e._a[me]&&null==e._a[fe]&&(h=void 0,u=void 0,l=void 0,d=void 0,c=void 0,f=void 0,m=void 0,p=void 0,null!=(h=(r=e)._w).GG||null!=h.W||null!=h.E?(c=1,f=4,u=et(h.GG,r._a[ce],K(rt(),1,4).year),l=et(h.W,1),(1>(d=et(h.E,1))||d>7)&&(p=!0)):(c=r._locale._week.dow,f=r._locale._week.doy,u=et(h.gg,r._a[ce],K(rt(),c,f).year),l=et(h.w,1),null!=h.d?(0>(d=h.d)||d>6)&&(p=!0):null!=h.e?(d=h.e+c,(h.e<0||h.e>6)&&(p=!0)):d=c),1>l||l>tt(u,c,f)?o(r)._overflowWeeks=!0:null!=p?o(r)._overflowWeekday=!0:(m=X(u,l,d,c,f),r._a[ce]=m.year,r._dayOfYear=m.dayOfYear)),e._dayOfYear&&(a=et(e._a[ce],n[ce]),e._dayOfYear>J(a)&&(o(e)._overflowDayOfYear=!0),s=q(a,0,e._dayOfYear),e._a[fe]=s.getUTCMonth(),e._a[me]=s.getUTCDate()),i=0;3>i&&null==e._a[i];++i)e._a[i]=g[i]=n[i];for(;7>i;i++)e._a[i]=g[i]=null==e._a[i]?2===i?1:0:e._a[i];24===e._a[pe]&&0===e._a[ve]&&0===e._a[ye]&&0===e._a[ge]&&(e._nextDay=!0,e._a[pe]=0),e._d=(e._useUTC?q:function(t,e,i,s,n,a,r){var o=new Date(t,e,i,s,n,a,r);return 100>t&&t>=0&&isFinite(o.getFullYear())&&o.setFullYear(t),o}).apply(null,g),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[pe]=24)}}function st(e){if(e._f!==t.ISO_8601){e._a=[],o(e).empty=!0;var i,s,a,r,h,u,l,d,c,f,m,p,v=""+e._i,y=v.length,g=0;for(a=A(e._f,e._locale).match(jt)||[],i=0;i<a.length;i++)r=a[i],(s=(v.match(N(r,e))||[])[0])&&((h=v.substr(0,v.indexOf(s))).length>0&&o(e).unusedInput.push(h),v=v.slice(v.indexOf(s)+s.length),g+=s.length),Zt[r]?(s?o(e).empty=!1:o(e).unusedTokens.push(r),u=r,d=e,null!=(l=s)&&n(de,u)&&de[u](l,d._a,d,u)):e._strict&&!s&&o(e).unusedTokens.push(r);o(e).charsLeftOver=y-g,v.length>0&&o(e).unusedInput.push(v),!0===o(e).bigHour&&e._a[pe]<=12&&e._a[pe]>0&&(o(e).bigHour=void 0),e._a[pe]=(c=e._locale,f=e._a[pe],null==(m=e._meridiem)?f:null!=c.meridiemHour?c.meridiemHour(f,m):null!=c.isPM?((p=c.isPM(m))&&12>f&&(f+=12),p||12!==f||(f=0),f):f),it(e),j(e)}else Z(e)}function nt(n){var r,l,m,p,v=n._i,y=n._f;return n._locale=n._locale||k(n._l),null===v||void 0===y&&""===v?u({nullInput:!0}):("string"==typeof v&&(n._i=v=n._locale.preparse(v)),f(v)?new c(j(v)):(e(y)?function(t){var e,i,s,n,r;if(0===t._f.length)return o(t).invalidFormat=!0,void(t._d=new Date(NaN));for(n=0;n<t._f.length;n++)r=0,e=d({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[n],st(e),h(e)&&(r+=o(e).charsLeftOver,r+=10*o(e).unusedTokens.length,o(e).score=r,(null==s||s>r)&&(s=r,i=e));a(t,i||e)}(n):y?st(n):i(v)?n._d=v:void 0===(l=(r=n)._i)?r._d=new Date(t.now()):i(l)?r._d=new Date(+l):"string"==typeof l?(m=r,null!==(p=We.exec(m._i))?m._d=new Date(+p[1]):(Z(m),!1===m._isValid&&(delete m._isValid,t.createFromInputFallback(m)))):e(l)?(r._a=s(l.slice(0),function(t){return parseInt(t,10)}),it(r)):"object"==typeof l?function(t){if(!t._d){var e=S(t._i);t._a=s([e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],function(t){return t&&parseInt(t,10)}),it(t)}}(r):"number"==typeof l?r._d=new Date(l):t.createFromInputFallback(r),h(n)||(n._d=null),n))}function at(t,e,i,s,n){var a,r={};return"boolean"==typeof i&&(s=i,i=void 0),r._isAMomentObject=!0,r._useUTC=r._isUTC=n,r._l=i,r._i=t,r._f=e,r._strict=s,(a=new c(j(nt(r))))._nextDay&&(a.add(1,"d"),a._nextDay=void 0),a}function rt(t,e,i,s){return at(t,e,i,s,!1)}function ot(t,i){var s,n;if(1===i.length&&e(i[0])&&(i=i[0]),!i.length)return rt();for(s=i[0],n=1;n<i.length;++n)(!i[n].isValid()||i[n][t](s))&&(s=i[n]);return s}function ht(t){var e=S(t),i=e.year||0,s=e.quarter||0,n=e.month||0,a=e.week||0,r=e.day||0,o=e.hour||0,h=e.minute||0,u=e.second||0,l=e.millisecond||0;this._milliseconds=+l+1e3*u+6e4*h+36e5*o,this._days=+r+7*a,this._months=+n+3*s+12*i,this._data={},this._locale=k(),this._bubble()}function ut(t){return t instanceof ht}function lt(t,e){W(t,0,0,function(){var t=this.utcOffset(),i="+";return 0>t&&(t=-t,i="-"),i+E(~~(t/60),2)+e+E(~~t%60,2)})}function dt(t,e){var i=(e||"").match(t)||[],s=((i[i.length-1]||[])+"").match(Ne)||["-",0,0],n=60*s[1]+p(s[2]);return"+"===s[0]?n:-n}function ct(e,s){var n,a;return s._isUTC?(n=s.clone(),a=(f(e)||i(e)?+e:+rt(e))-+n,n._d.setTime(+n._d+a),t.updateOffset(n,!1),n):rt(e).local()}function ft(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function mt(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}function pt(t,e){var i,s,a,r,o,h,u=t,l=null;return ut(t)?u={ms:t._milliseconds,d:t._days,M:t._months}:"number"==typeof t?(u={},e?u[e]=t:u.milliseconds=t):(l=Ie.exec(t))?(i="-"===l[1]?-1:1,u={y:0,d:p(l[me])*i,h:p(l[pe])*i,m:p(l[ve])*i,s:p(l[ye])*i,ms:p(l[ge])*i}):(l=Le.exec(t))?(i="-"===l[1]?-1:1,u={y:vt(l[2],i),M:vt(l[3],i),d:vt(l[4],i),h:vt(l[5],i),m:vt(l[6],i),s:vt(l[7],i),w:vt(l[8],i)}):null==u?u={}:"object"==typeof u&&("from"in u||"to"in u)&&(r=rt(u.from),o=rt(u.to),a=r.isValid()&&o.isValid()?(o=ct(o,r),r.isBefore(o)?h=yt(r,o):((h=yt(o,r)).milliseconds=-h.milliseconds,h.months=-h.months),h):{milliseconds:0,months:0},(u={}).ms=a.milliseconds,u.M=a.months),s=new ht(u),ut(t)&&n(t,"_locale")&&(s._locale=t._locale),s}function vt(t,e){var i=t&&parseFloat(t.replace(",","."));return(isNaN(i)?0:i)*e}function yt(t,e){var i={milliseconds:0,months:0};return i.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(i.months,"M").isAfter(e)&&--i.months,i.milliseconds=+e-+t.clone().add(i.months,"M"),i}function gt(t,e){return function(i,s){var n,a,r;return null===s||isNaN(+s)||(r="moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period).",Pe[a=e]||(z(r),Pe[a]=!0),n=i,i=s,s=n),_t(this,pt(i="string"==typeof i?+i:i,s),t),this}}function _t(e,i,s,n){var a=i._milliseconds,r=i._days,o=i._months;e.isValid()&&(n=null==n||n,a&&e._d.setTime(+e._d+a*s),r&&T(e,"Date",M(e,"Date")+r*s),o&&G(e,M(e,"Month")+o*s),n&&t.updateOffset(e,r||o))}function wt(t){var e;return void 0===t?this._locale._abbr:(null!=(e=k(t))&&(this._locale=e),this)}function bt(){return this._locale}function kt(t,e){W(0,[t,t.length],0,e)}function xt(t,e,i,s,n){var a;return null==t?K(this,s,n).year:(e>(a=tt(t,s,n))&&(e=a),function(t,e,i,s,n){var a=X(t,e,i,s,n),r=q(a.year,0,a.dayOfYear);return this.year(r.getUTCFullYear()),this.month(r.getUTCMonth()),this.date(r.getUTCDate()),this}.call(this,t,e,i,s,n))}function Ct(){return this.hours()%12||12}function St(t,e){W(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function Pt(t,e){return e._meridiemParse}function Dt(t,e){e[ge]=p(1e3*("0."+t))}function Mt(t){return t}function Tt(t,e,i,s){var n=k(),a=r().set(s,e);return n[i](a,t)}function Yt(t,e,i,s,n){if("number"==typeof t&&(e=t,t=void 0),t=t||"",null!=e)return Tt(t,e,i,n);var a,r=[];for(a=0;s>a;a++)r[a]=Tt(t,a,i,n);return r}function Et(t,e,i,s){var n=pt(e,i);return t._milliseconds+=s*n._milliseconds,t._days+=s*n._days,t._months+=s*n._months,t._bubble()}function Wt(t){return 0>t?Math.floor(t):Math.ceil(t)}function Ot(t){return 4800*t/146097}function At(t){return 146097*t/4800}function Rt(t){return function(){return this.as(t)}}function Nt(t){return function(){return this._data[t]}}function It(){var t,e,i=gi(this._milliseconds)/1e3,s=gi(this._days),n=gi(this._months);e=m((t=m(i/60))/60),i%=60,t%=60;var a=m(n/12),r=n%=12,o=s,h=e,u=t,l=i,d=this.asSeconds();return d?(0>d?"-":"")+"P"+(a?a+"Y":"")+(r?r+"M":"")+(o?o+"D":"")+(h||u||l?"T":"")+(h?h+"H":"")+(u?u+"M":"")+(l?l+"S":""):"P0D"}var Lt,Ft,Ut=t.momentProperties=[],Gt=!1,Ht={},Vt={},jt=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,zt=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Bt={},Zt={},qt=/\d/,Jt=/\d\d/,$t=/\d{3}/,Qt=/\d{4}/,Xt=/[+-]?\d{6}/,Kt=/\d\d?/,te=/\d\d\d\d?/,ee=/\d\d\d\d\d\d?/,ie=/\d{1,3}/,se=/\d{1,4}/,ne=/[+-]?\d{1,6}/,ae=/\d+/,re=/[+-]?\d+/,oe=/Z|[+-]\d\d:?\d\d/gi,he=/Z|[+-]\d\d(?::?\d\d)?/gi,ue=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,le={},de={},ce=0,fe=1,me=2,pe=3,ve=4,ye=5,ge=6,_e=7,we=8;W("M",["MM",2],"Mo",function(){return this.month()+1}),W("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),W("MMMM",0,0,function(t){return this.localeData().months(this,t)}),x("month","M"),R("M",Kt),R("MM",Kt,Jt),R("MMM",function(t,e){return e.monthsShortRegex(t)}),R("MMMM",function(t,e){return e.monthsRegex(t)}),L(["M","MM"],function(t,e){e[fe]=p(t)-1}),L(["MMM","MMMM"],function(t,e,i,s){var n=i._locale.monthsParse(t,s,i._strict);null!=n?e[fe]=n:o(i).invalidMonth=t});var be=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/,ke="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),xe="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Ce=ue,Se=ue,Pe={};t.suppressDeprecationWarnings=!1;var De=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,Me=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,Te=/Z|[+-]\d\d(?::?\d\d)?/,Ye=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Ee=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],We=/^\/?Date\((\-?\d+)/i;t.createFromInputFallback=B("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),W("Y",0,0,function(){var t=this.year();return 9999>=t?""+t:"+"+t}),W(0,["YY",2],0,function(){return this.year()%100}),W(0,["YYYY",4],0,"year"),W(0,["YYYYY",5],0,"year"),W(0,["YYYYYY",6,!0],0,"year"),x("year","y"),R("Y",re),R("YY",Kt,Jt),R("YYYY",se,Qt),R("YYYYY",ne,Xt),R("YYYYYY",ne,Xt),L(["YYYYY","YYYYYY"],ce),L("YYYY",function(e,i){i[ce]=2===e.length?t.parseTwoDigitYear(e):p(e)}),L("YY",function(e,i){i[ce]=t.parseTwoDigitYear(e)}),L("Y",function(t,e){e[ce]=parseInt(t,10)}),t.parseTwoDigitYear=function(t){return p(t)+(p(t)>68?1900:2e3)};var Oe=D("FullYear",!1);t.ISO_8601=function(){};var Ae=B("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var t=rt.apply(null,arguments);return this.isValid()&&t.isValid()?this>t?this:t:u()}),Re=B("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var t=rt.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:u()});lt("Z",":"),lt("ZZ",""),R("Z",he),R("ZZ",he),L(["Z","ZZ"],function(t,e,i){i._useUTC=!0,i._tzm=dt(he,t)});var Ne=/([\+\-]|\d\d)/gi;t.updateOffset=function(){};var Ie=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?\d*)?$/,Le=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;pt.fn=ht.prototype;var Fe=gt(1,"add"),Ue=gt(-1,"subtract");t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";var Ge=B("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});W(0,["gg",2],0,function(){return this.weekYear()%100}),W(0,["GG",2],0,function(){return this.isoWeekYear()%100}),kt("gggg","weekYear"),kt("ggggg","weekYear"),kt("GGGG","isoWeekYear"),kt("GGGGG","isoWeekYear"),x("weekYear","gg"),x("isoWeekYear","GG"),R("G",re),R("g",re),R("GG",Kt,Jt),R("gg",Kt,Jt),R("GGGG",se,Qt),R("gggg",se,Qt),R("GGGGG",ne,Xt),R("ggggg",ne,Xt),F(["gggg","ggggg","GGGG","GGGGG"],function(t,e,i,s){e[s.substr(0,2)]=p(t)}),F(["gg","GG"],function(e,i,s,n){i[n]=t.parseTwoDigitYear(e)}),W("Q",0,"Qo","quarter"),x("quarter","Q"),R("Q",qt),L("Q",function(t,e){e[fe]=3*(p(t)-1)}),W("w",["ww",2],"wo","week"),W("W",["WW",2],"Wo","isoWeek"),x("week","w"),x("isoWeek","W"),R("w",Kt),R("ww",Kt,Jt),R("W",Kt),R("WW",Kt,Jt),F(["w","ww","W","WW"],function(t,e,i,s){e[s.substr(0,1)]=p(t)});W("D",["DD",2],"Do","date"),x("date","D"),R("D",Kt),R("DD",Kt,Jt),R("Do",function(t,e){return t?e._ordinalParse:e._ordinalParseLenient}),L(["D","DD"],me),L("Do",function(t,e){e[me]=p(t.match(Kt)[0])});var He=D("Date",!0);W("d",0,"do","day"),W("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),W("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),W("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),W("e",0,0,"weekday"),W("E",0,0,"isoWeekday"),x("day","d"),x("weekday","e"),x("isoWeekday","E"),R("d",Kt),R("e",Kt),R("E",Kt),R("dd",ue),R("ddd",ue),R("dddd",ue),F(["dd","ddd","dddd"],function(t,e,i,s){var n=i._locale.weekdaysParse(t,s,i._strict);null!=n?e.d=n:o(i).invalidWeekday=t}),F(["d","e","E"],function(t,e,i,s){e[s]=p(t)});var Ve="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),je="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),ze="Su_Mo_Tu_We_Th_Fr_Sa".split("_");W("DDD",["DDDD",3],"DDDo","dayOfYear"),x("dayOfYear","DDD"),R("DDD",ie),R("DDDD",$t),L(["DDD","DDDD"],function(t,e,i){i._dayOfYear=p(t)}),W("H",["HH",2],0,"hour"),W("h",["hh",2],0,Ct),W("hmm",0,0,function(){return""+Ct.apply(this)+E(this.minutes(),2)}),W("hmmss",0,0,function(){return""+Ct.apply(this)+E(this.minutes(),2)+E(this.seconds(),2)}),W("Hmm",0,0,function(){return""+this.hours()+E(this.minutes(),2)}),W("Hmmss",0,0,function(){return""+this.hours()+E(this.minutes(),2)+E(this.seconds(),2)}),St("a",!0),St("A",!1),x("hour","h"),R("a",Pt),R("A",Pt),R("H",Kt),R("h",Kt),R("HH",Kt,Jt),R("hh",Kt,Jt),R("hmm",te),R("hmmss",ee),R("Hmm",te),R("Hmmss",ee),L(["H","HH"],pe),L(["a","A"],function(t,e,i){i._isPm=i._locale.isPM(t),i._meridiem=t}),L(["h","hh"],function(t,e,i){e[pe]=p(t),o(i).bigHour=!0}),L("hmm",function(t,e,i){var s=t.length-2;e[pe]=p(t.substr(0,s)),e[ve]=p(t.substr(s)),o(i).bigHour=!0}),L("hmmss",function(t,e,i){var s=t.length-4,n=t.length-2;e[pe]=p(t.substr(0,s)),e[ve]=p(t.substr(s,2)),e[ye]=p(t.substr(n)),o(i).bigHour=!0}),L("Hmm",function(t,e,i){var s=t.length-2;e[pe]=p(t.substr(0,s)),e[ve]=p(t.substr(s))}),L("Hmmss",function(t,e,i){var s=t.length-4,n=t.length-2;e[pe]=p(t.substr(0,s)),e[ve]=p(t.substr(s,2)),e[ye]=p(t.substr(n))});var Be=D("Hours",!0);W("m",["mm",2],0,"minute"),x("minute","m"),R("m",Kt),R("mm",Kt,Jt),L(["m","mm"],ve);var Ze=D("Minutes",!1);W("s",["ss",2],0,"second"),x("second","s"),R("s",Kt),R("ss",Kt,Jt),L(["s","ss"],ye);var qe,Je=D("Seconds",!1);for(W("S",0,0,function(){return~~(this.millisecond()/100)}),W(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),W(0,["SSS",3],0,"millisecond"),W(0,["SSSS",4],0,function(){return 10*this.millisecond()}),W(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),W(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),W(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),W(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),W(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),x("millisecond","ms"),R("S",ie,qt),R("SS",ie,Jt),R("SSS",ie,$t),qe="SSSS";qe.length<=9;qe+="S")R(qe,ae);for(qe="S";qe.length<=9;qe+="S")L(qe,Dt);var $e=D("Milliseconds",!1);W("z",0,0,"zoneAbbr"),W("zz",0,0,"zoneName");var Qe=c.prototype;Qe.add=Fe,Qe.calendar=function(t,e){var i=t||rt(),s=ct(i,this).startOf("day"),n=this.diff(s,"days",!0),a=-6>n?"sameElse":-1>n?"lastWeek":0>n?"lastDay":1>n?"sameDay":2>n?"nextDay":7>n?"nextWeek":"sameElse",r=e&&(P(e[a])?e[a]():e[a]);return this.format(r||this.localeData().calendar(a,this,rt(i)))},Qe.clone=function(){return new c(this)},Qe.diff=function(t,e,i){var s,n,a,r,o,h,u,l,d,c;return this.isValid()&&(s=ct(t,this)).isValid()?(n=6e4*(s.utcOffset()-this.utcOffset()),"year"===(e=C(e))||"month"===e||"quarter"===e?(o=this,d=12*((h=s).year()-o.year())+(h.month()-o.month()),c=o.clone().add(d,"months"),0>h-c?(u=o.clone().add(d-1,"months"),l=(h-c)/(c-u)):(u=o.clone().add(d+1,"months"),l=(h-c)/(u-c)),r=-(d+l),"quarter"===e?r/=3:"year"===e&&(r/=12)):(a=this-s,r="second"===e?a/1e3:"minute"===e?a/6e4:"hour"===e?a/36e5:"day"===e?(a-n)/864e5:"week"===e?(a-n)/6048e5:a),i?r:m(r)):NaN},Qe.endOf=function(t){return void 0===(t=C(t))||"millisecond"===t?this:this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms")},Qe.format=function(e){var i=O(this,e||t.defaultFormat);return this.localeData().postformat(i)},Qe.from=function(t,e){return this.isValid()&&(f(t)&&t.isValid()||rt(t).isValid())?pt({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},Qe.fromNow=function(t){return this.from(rt(),t)},Qe.to=function(t,e){return this.isValid()&&(f(t)&&t.isValid()||rt(t).isValid())?pt({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},Qe.toNow=function(t){return this.to(rt(),t)},Qe.get=Y,Qe.invalidAt=function(){return o(this).overflow},Qe.isAfter=function(t,e){var i=f(t)?t:rt(t);return!(!this.isValid()||!i.isValid())&&("millisecond"===(e=C(l(e)?"millisecond":e))?+this>+i:+i<+this.clone().startOf(e))},Qe.isBefore=function(t,e){var i=f(t)?t:rt(t);return!(!this.isValid()||!i.isValid())&&("millisecond"===(e=C(l(e)?"millisecond":e))?+i>+this:+this.clone().endOf(e)<+i)},Qe.isBetween=function(t,e,i){return this.isAfter(t,i)&&this.isBefore(e,i)},Qe.isSame=function(t,e){var i,s=f(t)?t:rt(t);return!(!this.isValid()||!s.isValid())&&("millisecond"===(e=C(e||"millisecond"))?+this==+s:(i=+s,+this.clone().startOf(e)<=i&&i<=+this.clone().endOf(e)))},Qe.isSameOrAfter=function(t,e){return this.isSame(t,e)||this.isAfter(t,e)},Qe.isSameOrBefore=function(t,e){return this.isSame(t,e)||this.isBefore(t,e)},Qe.isValid=function(){return h(this)},Qe.lang=Ge,Qe.locale=wt,Qe.localeData=bt,Qe.max=Re,Qe.min=Ae,Qe.parsingFlags=function(){return a({},o(this))},Qe.set=Y,Qe.startOf=function(t){switch(t=C(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this},Qe.subtract=Ue,Qe.toArray=function(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]},Qe.toObject=function(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}},Qe.toDate=function(){return this._offset?new Date(+this):this._d},Qe.toISOString=function(){var t=this.clone().utc();return 0<t.year()&&t.year()<=9999?P(Date.prototype.toISOString)?this.toDate().toISOString():O(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):O(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},Qe.toJSON=function(){return this.isValid()?this.toISOString():"null"},Qe.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},Qe.unix=function(){return Math.floor(+this/1e3)},Qe.valueOf=function(){return+this._d-6e4*(this._offset||0)},Qe.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},Qe.year=Oe,Qe.isLeapYear=function(){return $(this.year())},Qe.weekYear=function(t){return xt.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},Qe.isoWeekYear=function(t){return xt.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)},Qe.quarter=Qe.quarters=function(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)},Qe.month=H,Qe.daysInMonth=function(){return U(this.year(),this.month())},Qe.week=Qe.weeks=function(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")},Qe.isoWeek=Qe.isoWeeks=function(t){var e=K(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")},Qe.weeksInYear=function(){var t=this.localeData()._week;return tt(this.year(),t.dow,t.doy)},Qe.isoWeeksInYear=function(){return tt(this.year(),1,4)},Qe.date=He,Qe.day=Qe.days=function(t){if(!this.isValid())return null!=t?this:NaN;var e,i,s=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(e=t,i=this.localeData(),t="string"!=typeof e?e:isNaN(e)?"number"==typeof(e=i.weekdaysParse(e))?e:null:parseInt(e,10),this.add(t-s,"d")):s},Qe.weekday=function(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")},Qe.isoWeekday=function(t){return this.isValid()?null==t?this.day()||7:this.day(this.day()%7?t:t-7):null!=t?this:NaN},Qe.dayOfYear=function(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")},Qe.hour=Qe.hours=Be,Qe.minute=Qe.minutes=Ze,Qe.second=Qe.seconds=Je,Qe.millisecond=Qe.milliseconds=$e,Qe.utcOffset=function(e,i){var s,n=this._offset||0;return this.isValid()?null!=e?("string"==typeof e?e=dt(he,e):Math.abs(e)<16&&(e*=60),!this._isUTC&&i&&(s=ft(this)),this._offset=e,this._isUTC=!0,null!=s&&this.add(s,"m"),n!==e&&(!i||this._changeInProgress?_t(this,pt(e-n,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,t.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?n:ft(this):null!=e?this:NaN},Qe.utc=function(t){return this.utcOffset(0,t)},Qe.local=function(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(ft(this),"m")),this},Qe.parseZone=function(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(dt(oe,this._i)),this},Qe.hasAlignedHourOffset=function(t){return!!this.isValid()&&(t=t?rt(t).utcOffset():0,(this.utcOffset()-t)%60==0)},Qe.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},Qe.isDSTShifted=function(){if(!l(this._isDSTShifted))return this._isDSTShifted;var t={};if(d(t,this),(t=nt(t))._a){var e=t._isUTC?r(t._a):rt(t._a);this._isDSTShifted=this.isValid()&&v(t._a,e.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted},Qe.isLocal=function(){return!!this.isValid()&&!this._isUTC},Qe.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},Qe.isUtc=mt,Qe.isUTC=mt,Qe.zoneAbbr=function(){return this._isUTC?"UTC":""},Qe.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},Qe.dates=B("dates accessor is deprecated. Use date instead.",He),Qe.months=B("months accessor is deprecated. Use month instead",H),Qe.years=B("years accessor is deprecated. Use year instead",Oe),Qe.zone=B("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",function(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()});var Xe=Qe,Ke=y.prototype;Ke._calendar={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Ke.calendar=function(t,e,i){var s=this._calendar[t];return P(s)?s.call(e,i):s},Ke._longDateFormat={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Ke.longDateFormat=function(t){var e=this._longDateFormat[t],i=this._longDateFormat[t.toUpperCase()];return e||!i?e:(this._longDateFormat[t]=i.replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t])},Ke._invalidDate="Invalid date",Ke.invalidDate=function(){return this._invalidDate},Ke._ordinal="%d",Ke.ordinal=function(t){return this._ordinal.replace("%d",t)},Ke._ordinalParse=/\d{1,2}/,Ke.preparse=Mt,Ke.postformat=Mt,Ke._relativeTime={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Ke.relativeTime=function(t,e,i,s){var n=this._relativeTime[i];return P(n)?n(t,e,i,s):n.replace(/%d/i,t)},Ke.pastFuture=function(t,e){var i=this._relativeTime[t>0?"future":"past"];return P(i)?i(e):i.replace(/%s/i,e)},Ke.set=function(t){var e,i;for(i in t)P(e=t[i])?this[i]=e:this["_"+i]=e;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)},Ke.months=function(t,i){return e(this._months)?this._months[t.month()]:this._months[be.test(i)?"format":"standalone"][t.month()]},Ke._months=ke,Ke.monthsShort=function(t,i){return e(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[be.test(i)?"format":"standalone"][t.month()]},Ke._monthsShort=xe,Ke.monthsParse=function(t,e,i){var s,n,a;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),s=0;12>s;s++){if(n=r([2e3,s]),i&&!this._longMonthsParse[s]&&(this._longMonthsParse[s]=new RegExp("^"+this.months(n,"").replace(".","")+"$","i"),this._shortMonthsParse[s]=new RegExp("^"+this.monthsShort(n,"").replace(".","")+"$","i")),i||this._monthsParse[s]||(a="^"+this.months(n,"")+"|^"+this.monthsShort(n,""),this._monthsParse[s]=new RegExp(a.replace(".",""),"i")),i&&"MMMM"===e&&this._longMonthsParse[s].test(t))return s;if(i&&"MMM"===e&&this._shortMonthsParse[s].test(t))return s;if(!i&&this._monthsParse[s].test(t))return s}},Ke._monthsRegex=Se,Ke.monthsRegex=function(t){return this._monthsParseExact?(n(this,"_monthsRegex")||V.call(this),t?this._monthsStrictRegex:this._monthsRegex):this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex},Ke._monthsShortRegex=Ce,Ke.monthsShortRegex=function(t){return this._monthsParseExact?(n(this,"_monthsRegex")||V.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex},Ke.week=function(t){return K(t,this._week.dow,this._week.doy).week},Ke._week={dow:0,doy:6},Ke.firstDayOfYear=function(){return this._week.doy},Ke.firstDayOfWeek=function(){return this._week.dow},Ke.weekdays=function(t,i){return e(this._weekdays)?this._weekdays[t.day()]:this._weekdays[this._weekdays.isFormat.test(i)?"format":"standalone"][t.day()]},Ke._weekdays=Ve,Ke.weekdaysMin=function(t){return this._weekdaysMin[t.day()]},Ke._weekdaysMin=ze,Ke.weekdaysShort=function(t){return this._weekdaysShort[t.day()]},Ke._weekdaysShort=je,Ke.weekdaysParse=function(t,e,i){var s,n,a;for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),s=0;7>s;s++){if(n=rt([2e3,1]).day(s),i&&!this._fullWeekdaysParse[s]&&(this._fullWeekdaysParse[s]=new RegExp("^"+this.weekdays(n,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[s]=new RegExp("^"+this.weekdaysShort(n,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[s]=new RegExp("^"+this.weekdaysMin(n,"").replace(".",".?")+"$","i")),this._weekdaysParse[s]||(a="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[s]=new RegExp(a.replace(".",""),"i")),i&&"dddd"===e&&this._fullWeekdaysParse[s].test(t))return s;if(i&&"ddd"===e&&this._shortWeekdaysParse[s].test(t))return s;if(i&&"dd"===e&&this._minWeekdaysParse[s].test(t))return s;if(!i&&this._weekdaysParse[s].test(t))return s}},Ke.isPM=function(t){return"p"===(t+"").toLowerCase().charAt(0)},Ke._meridiemParse=/[ap]\.?m?\.?/i,Ke.meridiem=function(t,e,i){return t>11?i?"pm":"PM":i?"am":"AM"},w("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1===p(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}}),t.lang=B("moment.lang is deprecated. Use moment.locale instead.",w),t.langData=B("moment.langData is deprecated. Use moment.localeData instead.",k);var ti=Math.abs,ei=Rt("ms"),ii=Rt("s"),si=Rt("m"),ni=Rt("h"),ai=Rt("d"),ri=Rt("w"),oi=Rt("M"),hi=Rt("y"),ui=Nt("milliseconds"),li=Nt("seconds"),di=Nt("minutes"),ci=Nt("hours"),fi=Nt("days"),mi=Nt("months"),pi=Nt("years"),vi=Math.round,yi={s:45,m:45,h:22,d:26,M:11},gi=Math.abs,_i=ht.prototype;return _i.abs=function(){var t=this._data;return this._milliseconds=ti(this._milliseconds),this._days=ti(this._days),this._months=ti(this._months),t.milliseconds=ti(t.milliseconds),t.seconds=ti(t.seconds),t.minutes=ti(t.minutes),t.hours=ti(t.hours),t.months=ti(t.months),t.years=ti(t.years),this},_i.add=function(t,e){return Et(this,t,e,1)},_i.subtract=function(t,e){return Et(this,t,e,-1)},_i.as=function(t){var e,i,s=this._milliseconds;if("month"===(t=C(t))||"year"===t)return e=this._days+s/864e5,i=this._months+Ot(e),"month"===t?i:i/12;switch(e=this._days+Math.round(At(this._months)),t){case"week":return e/7+s/6048e5;case"day":return e+s/864e5;case"hour":return 24*e+s/36e5;case"minute":return 1440*e+s/6e4;case"second":return 86400*e+s/1e3;case"millisecond":return Math.floor(864e5*e)+s;default:throw new Error("Unknown unit "+t)}},_i.asMilliseconds=ei,_i.asSeconds=ii,_i.asMinutes=si,_i.asHours=ni,_i.asDays=ai,_i.asWeeks=ri,_i.asMonths=oi,_i.asYears=hi,_i.valueOf=function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*p(this._months/12)},_i._bubble=function(){var t,e,i,s,n,a=this._milliseconds,r=this._days,o=this._months,h=this._data;return a>=0&&r>=0&&o>=0||0>=a&&0>=r&&0>=o||(a+=864e5*Wt(At(o)+r),r=0,o=0),h.milliseconds=a%1e3,t=m(a/1e3),h.seconds=t%60,e=m(t/60),h.minutes=e%60,i=m(e/60),h.hours=i%24,o+=n=m(Ot(r+=m(i/24))),r-=Wt(At(n)),s=m(o/12),o%=12,h.days=r,h.months=o,h.years=s,this},_i.get=function(t){return this[(t=C(t))+"s"]()},_i.milliseconds=ui,_i.seconds=li,_i.minutes=di,_i.hours=ci,_i.days=fi,_i.weeks=function(){return m(this.days()/7)},_i.months=mi,_i.years=pi,_i.humanize=function(t){var e,i,s,n,a,r,o,h,u,l,d,c=this.localeData(),f=(i=!t,s=c,n=pt(e=this).abs(),a=vi(n.as("s")),r=vi(n.as("m")),o=vi(n.as("h")),h=vi(n.as("d")),u=vi(n.as("M")),l=vi(n.as("y")),(d=a<yi.s&&["s",a]||1>=r&&["m"]||r<yi.m&&["mm",r]||1>=o&&["h"]||o<yi.h&&["hh",o]||1>=h&&["d"]||h<yi.d&&["dd",h]||1>=u&&["M"]||u<yi.M&&["MM",u]||1>=l&&["y"]||["yy",l])[2]=i,d[3]=+e>0,d[4]=s,function(t,e,i,s,n){return n.relativeTime(e||1,!!i,t,s)}.apply(null,d));return t&&(f=c.pastFuture(+this,f)),c.postformat(f)},_i.toISOString=It,_i.toString=It,_i.toJSON=It,_i.locale=wt,_i.localeData=bt,_i.toIsoString=B("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",It),_i.lang=Ge,W("X",0,0,"unix"),W("x",0,0,"valueOf"),R("x",re),R("X",/[+-]?\d+(\.\d{1,3})?/),L("X",function(t,e,i){i._d=new Date(1e3*parseFloat(t,10))}),L("x",function(t,e,i){i._d=new Date(p(t))}),t.version="2.11.2",Lt=rt,t.fn=Xe,t.min=function(){return ot("isBefore",[].slice.call(arguments,0))},t.max=function(){return ot("isAfter",[].slice.call(arguments,0))},t.now=function(){return Date.now?Date.now():+new Date},t.utc=r,t.unix=function(t){return rt(1e3*t)},t.months=function(t,e){return Yt(t,e,"months",12,"month")},t.isDate=i,t.locale=w,t.invalid=u,t.duration=pt,t.isMoment=f,t.weekdays=function(t,e){return Yt(t,e,"weekdays",7,"day")},t.parseZone=function(){return rt.apply(null,arguments).parseZone()},t.localeData=k,t.isDuration=ut,t.monthsShort=function(t,e){return Yt(t,e,"monthsShort",12,"month")},t.weekdaysMin=function(t,e){return Yt(t,e,"weekdaysMin",7,"day")},t.defineLocale=b,t.weekdaysShort=function(t,e){return Yt(t,e,"weekdaysShort",7,"day")},t.normalizeUnits=C,t.relativeTimeThreshold=function(t,e){return void 0!==yi[t]&&(void 0===e?yi[t]:(yi[t]=e,!0))},t.prototype=Xe,t}),function(t,e){"function"==typeof define&&define.amd?define("wavesurfer",[],function(){return t.WaveSurfer=e()}):"object"==typeof exports?module.exports=e():t.WaveSurfer=e()}(this,function(){"use strict";var t,e={defaultParams:{height:128,waveColor:"#999",progressColor:"#555",cursorColor:"#333",cursorWidth:1,skipLength:2,minPxPerSec:20,pixelRatio:window.devicePixelRatio||screen.deviceXDPI/screen.logicalXDPI,fillParent:!0,scrollParent:!1,hideScrollbar:!1,normalize:!1,audioContext:null,container:null,dragSelection:!0,loopSelection:!0,audioRate:1,interact:!0,splitChannels:!1,mediaContainer:null,mediaControls:!1,renderer:"Canvas",backend:"WebAudio",mediaType:"audio",autoCenter:!0},init:function(t){if(this.params=e.util.extend({},this.defaultParams,t),this.container="string"==typeof t.container?document.querySelector(this.params.container):this.params.container,!this.container)throw new Error("Container element not found");if(null==this.params.mediaContainer?this.mediaContainer=this.container:"string"==typeof this.params.mediaContainer?this.mediaContainer=document.querySelector(this.params.mediaContainer):this.mediaContainer=this.params.mediaContainer,!this.mediaContainer)throw new Error("Media Container element not found");this.savedVolume=0,this.isMuted=!1,this.tmpEvents=[],this.currentAjax=null,this.createDrawer(),this.createBackend(),this.isDestroyed=!1},createDrawer:function(){var t=this;this.drawer=Object.create(e.Drawer[this.params.renderer]),this.drawer.init(this.container,this.params),this.drawer.on("redraw",function(){t.drawBuffer(),t.drawer.progress(t.backend.getPlayedPercents())}),this.drawer.on("click",function(e,i){setTimeout(function(){t.seekTo(i)},0)}),this.drawer.on("scroll",function(e){t.fireEvent("scroll",e)})},createBackend:function(){var t=this;this.backend&&this.backend.destroy(),"AudioElement"==this.params.backend&&(this.params.backend="MediaElement"),"WebAudio"!=this.params.backend||e.WebAudio.supportsWebAudio()||(this.params.backend="MediaElement"),this.backend=Object.create(e[this.params.backend]),this.backend.init(this.params),this.backend.on("finish",function(){t.fireEvent("finish")}),this.backend.on("play",function(){t.fireEvent("play")}),this.backend.on("pause",function(){t.fireEvent("pause")}),this.backend.on("audioprocess",function(e){t.drawer.progress(t.backend.getPlayedPercents()),t.fireEvent("audioprocess",e)})},getDuration:function(){return this.backend.getDuration()},getCurrentTime:function(){return this.backend.getCurrentTime()},play:function(t,e){this.fireEvent("interaction",this.play.bind(this,t,e)),this.backend.play(t,e)},pause:function(){this.backend.pause()},playPause:function(){this.backend.isPaused()?this.play():this.pause()},isPlaying:function(){return!this.backend.isPaused()},skipBackward:function(t){this.skip(-t||-this.params.skipLength)},skipForward:function(t){this.skip(t||this.params.skipLength)},skip:function(t){var e=this.getCurrentTime()||0,i=this.getDuration()||1;e=Math.max(0,Math.min(i,e+(t||0))),this.seekAndCenter(e/i)},seekAndCenter:function(t){this.seekTo(t),this.drawer.recenter(t)},seekTo:function(t){this.fireEvent("interaction",this.seekTo.bind(this,t));var e=this.backend.isPaused(),i=this.params.scrollParent;e&&(this.params.scrollParent=!1),this.backend.seekTo(t*this.getDuration()),this.drawer.progress(this.backend.getPlayedPercents()),e||(this.backend.pause(),this.backend.play()),this.params.scrollParent=i,this.fireEvent("seek",t)},stop:function(){this.pause(),this.seekTo(0),this.drawer.progress(0)},setVolume:function(t){this.backend.setVolume(t)},setPlaybackRate:function(t){this.backend.setPlaybackRate(t)},toggleMute:function(){this.setMute(!this.isMuted)},setMute:function(t){t!==this.isMuted&&(t?(this.savedVolume=this.backend.getVolume(),this.backend.setVolume(0),this.isMuted=!0):(this.backend.setVolume(this.savedVolume),this.isMuted=!1))},toggleScroll:function(){this.params.scrollParent=!this.params.scrollParent,this.drawBuffer()},toggleInteraction:function(){this.params.interact=!this.params.interact},drawBuffer:function(){var t=Math.round(this.getDuration()*this.params.minPxPerSec*this.params.pixelRatio),e=this.drawer.getWidth(),i=t;this.params.fillParent&&(!this.params.scrollParent||t<e)&&(i=e);var s=this.backend.getPeaks(i);this.drawer.drawPeaks(s,i),this.fireEvent("redraw",s,i)},zoom:function(t){this.params.minPxPerSec=t,this.params.scrollParent=!0,this.drawBuffer(),this.drawer.progress(this.backend.getPlayedPercents()),this.drawer.recenter(this.getCurrentTime()/this.getDuration()),this.fireEvent("zoom",t)},loadArrayBuffer:function(t){this.decodeArrayBuffer(t,function(t){this.isDestroyed||this.loadDecodedBuffer(t)}.bind(this))},loadDecodedBuffer:function(t){this.backend.load(t),this.drawBuffer(),this.fireEvent("ready")},loadBlob:function(t){var e=this,i=new FileReader;i.addEventListener("progress",function(t){e.onProgress(t)}),i.addEventListener("load",function(t){e.loadArrayBuffer(t.target.result)}),i.addEventListener("error",function(){e.fireEvent("error","Error reading file")}),i.readAsArrayBuffer(t),this.empty()},load:function(t,e,i){switch(this.empty(),this.params.backend){case"WebAudio":return this.loadBuffer(t,e);case"MediaElement":return this.loadMediaElement(t,e,i)}},loadBuffer:function(t,e){var i=function(e){return e&&this.tmpEvents.push(this.once("ready",e)),this.getArrayBuffer(t,this.loadArrayBuffer.bind(this))}.bind(this);return e?(this.backend.setPeaks(e),this.drawBuffer(),void this.tmpEvents.push(this.once("interaction",i))):i()},loadMediaElement:function(t,e,i){var s=t;if("string"==typeof t)this.backend.load(s,this.mediaContainer,e,i);else{var n=t;this.backend.loadElt(n,e),s=n.src}this.tmpEvents.push(this.backend.once("canplay",function(){this.drawBuffer(),this.fireEvent("ready")}.bind(this)),this.backend.once("error",function(t){this.fireEvent("error",t)}.bind(this))),e?this.backend.setPeaks(e):this.backend.supportsWebAudio()&&this.getArrayBuffer(s,function(t){this.decodeArrayBuffer(t,function(t){this.backend.buffer=t,this.drawBuffer(),this.fireEvent("waveform-ready")}.bind(this))}.bind(this))},decodeArrayBuffer:function(t,e){this.arraybuffer=t,this.backend.decodeArrayBuffer(t,function(i){this.isDestroyed||this.arraybuffer!=t||(e(i),this.arraybuffer=null)}.bind(this),this.fireEvent.bind(this,"error","Error decoding audiobuffer"))},getArrayBuffer:function(t,i){var s=this,n=e.util.ajax({url:t,responseType:"arraybuffer"});return this.currentAjax=n,this.tmpEvents.push(n.on("progress",function(t){s.onProgress(t)}),n.on("success",function(t,e){i(t),s.currentAjax=null}),n.on("error",function(t){s.fireEvent("error","XHR error: "+t.target.statusText),s.currentAjax=null})),n},onProgress:function(t){if(t.lengthComputable)var e=t.loaded/t.total;else e=t.loaded/(t.loaded+1e6);this.fireEvent("loading",Math.round(100*e),t.target)},exportPCM:function(t,e,i){t=t||1024,e=e||1e4,i=i||!1;var s=this.backend.getPeaks(t,e),n=[].map.call(s,function(t){return Math.round(t*e)/e}),a=JSON.stringify(n);return i||window.open("data:application/json;charset=utf-8,"+encodeURIComponent(a)),a},exportImage:function(t,e){return t||(t="image/png"),e||(e=1),this.drawer.getImage(t,e)},cancelAjax:function(){this.currentAjax&&(this.currentAjax.xhr.abort(),this.currentAjax=null)},clearTmpEvents:function(){this.tmpEvents.forEach(function(t){t.un()})},empty:function(){this.backend.isPaused()||(this.stop(),this.backend.disconnectSource()),this.cancelAjax(),this.clearTmpEvents(),this.drawer.progress(0),this.drawer.setWidth(0),this.drawer.drawPeaks({length:this.drawer.getWidth()},0)},destroy:function(){this.fireEvent("destroy"),this.cancelAjax(),this.clearTmpEvents(),this.unAll(),this.backend.destroy(),this.drawer.destroy(),this.isDestroyed=!0},create:function(t){var i=Object.create(e);return i.init(t),i}};return e.util={extend:function(t){return Array.prototype.slice.call(arguments,1).forEach(function(e){Object.keys(e).forEach(function(i){t[i]=e[i]})}),t},min:function(t){var e=1/0;for(var i in t)t[i]<e&&(e=t[i]);return e},max:function(t){var e=-1/0;for(var i in t)t[i]>e&&(e=t[i]);return e},getId:function(){return"wavesurfer_"+Math.random().toString(32).substring(2)},ajax:function(t){var i=Object.create(e.Observer),s=new XMLHttpRequest,n=!1;return s.open(t.method||"GET",t.url,!0),s.responseType=t.responseType||"json",s.addEventListener("progress",function(t){i.fireEvent("progress",t),t.lengthComputable&&t.loaded==t.total&&(n=!0)}),s.addEventListener("load",function(t){n||i.fireEvent("progress",t),i.fireEvent("load",t),200==s.status||206==s.status?i.fireEvent("success",s.response,t):i.fireEvent("error",t)}),s.addEventListener("error",function(t){i.fireEvent("error",t)}),s.send(),i.xhr=s,i}},e.Observer={on:function(t,e){this.handlers||(this.handlers={});var i=this.handlers[t];return i||(i=this.handlers[t]=[]),i.push(e),{name:t,callback:e,un:this.un.bind(this,t,e)}},un:function(t,e){if(this.handlers){var i=this.handlers[t];if(i)if(e)for(var s=i.length-1;s>=0;s--)i[s]==e&&i.splice(s,1);else i.length=0}},unAll:function(){this.handlers=null},once:function(t,e){var i=this,s=function(){e.apply(this,arguments),setTimeout(function(){i.un(t,s)},0)};return this.on(t,s)},fireEvent:function(t){if(this.handlers){var e=this.handlers[t],i=Array.prototype.slice.call(arguments,1);e&&e.forEach(function(t){t.apply(null,i)})}}},e.util.extend(e,e.Observer),e.WebAudio={scriptBufferSize:256,PLAYING_STATE:0,PAUSED_STATE:1,FINISHED_STATE:2,supportsWebAudio:function(){return!(!window.AudioContext&&!window.webkitAudioContext)},getAudioContext:function(){return this.ac||(this.ac=new(window.AudioContext||window.webkitAudioContext)),this.ac},getOfflineAudioContext:function(t){return e.WebAudio.offlineAudioContext||(e.WebAudio.offlineAudioContext=new(window.OfflineAudioContext||window.webkitOfflineAudioContext)(1,2,t)),e.WebAudio.offlineAudioContext},init:function(t){this.params=t,this.ac=t.audioContext||this.getAudioContext(),this.lastPlay=this.ac.currentTime,this.startPosition=0,this.scheduledPause=null,this.states=[Object.create(e.WebAudio.state.playing),Object.create(e.WebAudio.state.paused),Object.create(e.WebAudio.state.finished)],this.createVolumeNode(),this.createScriptNode(),this.createAnalyserNode(),this.setState(this.PAUSED_STATE),this.setPlaybackRate(this.params.audioRate)},disconnectFilters:function(){this.filters&&(this.filters.forEach(function(t){t&&t.disconnect()}),this.filters=null,this.analyser.connect(this.gainNode))},setState:function(t){this.state!==this.states[t]&&(this.state=this.states[t],this.state.init.call(this))},setFilter:function(){this.setFilters([].slice.call(arguments))},setFilters:function(t){this.disconnectFilters(),t&&t.length&&(this.filters=t,this.analyser.disconnect(),t.reduce(function(t,e){return t.connect(e),e},this.analyser).connect(this.gainNode))},createScriptNode:function(){this.ac.createScriptProcessor?this.scriptNode=this.ac.createScriptProcessor(this.scriptBufferSize):this.scriptNode=this.ac.createJavaScriptNode(this.scriptBufferSize),this.scriptNode.connect(this.ac.destination)},addOnAudioProcess:function(){var t=this;this.scriptNode.onaudioprocess=function(){var e=t.getCurrentTime();e>=t.getDuration()?(t.setState(t.FINISHED_STATE),t.fireEvent("pause")):e>=t.scheduledPause?t.pause():t.state===t.states[t.PLAYING_STATE]&&t.fireEvent("audioprocess",e)}},removeOnAudioProcess:function(){this.scriptNode.onaudioprocess=null},createAnalyserNode:function(){this.analyser=this.ac.createAnalyser(),this.analyser.connect(this.gainNode)},createVolumeNode:function(){this.ac.createGain?this.gainNode=this.ac.createGain():this.gainNode=this.ac.createGainNode(),this.gainNode.connect(this.ac.destination)},setVolume:function(t){this.gainNode.gain.value=t},getVolume:function(){return this.gainNode.gain.value},decodeArrayBuffer:function(t,e,i){this.offlineAc||(this.offlineAc=this.getOfflineAudioContext(this.ac?this.ac.sampleRate:44100)),this.offlineAc.decodeAudioData(t,function(t){e(t)}.bind(this),i)},setPeaks:function(t){this.peaks=t},getPeaks:function(t){if(this.peaks)return this.peaks;for(var e=this.buffer.length/t,i=~~(e/10)||1,s=this.buffer.numberOfChannels,n=[],a=[],r=0;r<s;r++)for(var o=n[r]=[],h=this.buffer.getChannelData(r),u=0;u<t;u++){for(var l=~~(u*e),d=~~(l+e),c=0,f=0,m=l;m<d;m+=i){var p=h[m];p>f&&(f=p),p<c&&(c=p)}o[2*u]=f,o[2*u+1]=c,(0==r||f>a[2*u])&&(a[2*u]=f),(0==r||c<a[2*u+1])&&(a[2*u+1]=c)}return this.params.splitChannels?n:a},getPlayedPercents:function(){return this.state.getPlayedPercents.call(this)},disconnectSource:function(){this.source&&this.source.disconnect()},destroy:function(){this.isPaused()||this.pause(),this.unAll(),this.buffer=null,this.disconnectFilters(),this.disconnectSource(),this.gainNode.disconnect(),this.scriptNode.disconnect(),this.analyser.disconnect(),this.params.audioContext||this.ac.close()},load:function(t){this.startPosition=0,this.lastPlay=this.ac.currentTime,this.buffer=t,this.createSource()},createSource:function(){this.disconnectSource(),this.source=this.ac.createBufferSource(),this.source.start=this.source.start||this.source.noteGrainOn,this.source.stop=this.source.stop||this.source.noteOff,this.source.playbackRate.value=this.playbackRate,this.source.buffer=this.buffer,this.source.connect(this.analyser)},isPaused:function(){return this.state!==this.states[this.PLAYING_STATE]},getDuration:function(){return this.buffer?this.buffer.duration:0},seekTo:function(t,e){if(this.buffer)return this.scheduledPause=null,null==t&&((t=this.getCurrentTime())>=this.getDuration()&&(t=0)),null==e&&(e=this.getDuration()),this.startPosition=t,this.lastPlay=this.ac.currentTime,this.state===this.states[this.FINISHED_STATE]&&this.setState(this.PAUSED_STATE),{start:t,end:e}},getPlayedTime:function(){return(this.ac.currentTime-this.lastPlay)*this.playbackRate},play:function(t,e){if(this.buffer){this.createSource();var i=this.seekTo(t,e);t=i.start,e=i.end,this.scheduledPause=e,this.source.start(0,t,e-t),"suspended"==this.ac.state&&this.ac.resume&&this.ac.resume(),this.setState(this.PLAYING_STATE),this.fireEvent("play")}},pause:function(){this.scheduledPause=null,this.startPosition+=this.getPlayedTime(),this.source&&this.source.stop(0),this.setState(this.PAUSED_STATE),this.fireEvent("pause")},getCurrentTime:function(){return this.state.getCurrentTime.call(this)},setPlaybackRate:function(t){t=t||1,this.isPaused()?this.playbackRate=t:(this.pause(),this.playbackRate=t,this.play())}},e.WebAudio.state={},e.WebAudio.state.playing={init:function(){this.addOnAudioProcess()},getPlayedPercents:function(){var t=this.getDuration();return this.getCurrentTime()/t||0},getCurrentTime:function(){return this.startPosition+this.getPlayedTime()}},e.WebAudio.state.paused={init:function(){this.removeOnAudioProcess()},getPlayedPercents:function(){var t=this.getDuration();return this.getCurrentTime()/t||0},getCurrentTime:function(){return this.startPosition}},e.WebAudio.state.finished={init:function(){this.removeOnAudioProcess(),this.fireEvent("finish")},getPlayedPercents:function(){return 1},getCurrentTime:function(){return this.getDuration()}},e.util.extend(e.WebAudio,e.Observer),e.MediaElement=Object.create(e.WebAudio),e.util.extend(e.MediaElement,{init:function(t){this.params=t,this.media={currentTime:0,duration:0,paused:!0,playbackRate:1,play:function(){},pause:function(){}},this.mediaType=t.mediaType.toLowerCase(),this.elementPosition=t.elementPosition,this.setPlaybackRate(this.params.audioRate),this.createTimer()},createTimer:function(){var t=this,e=function(){t.isPaused()||(t.fireEvent("audioprocess",t.getCurrentTime()),(window.requestAnimationFrame||window.webkitRequestAnimationFrame)(e))};this.on("play",e)},load:function(t,e,i,s){var n=document.createElement(this.mediaType);n.controls=this.params.mediaControls,n.autoplay=this.params.autoplay||!1,n.preload=null==s?"auto":s,n.src=t,n.style.width="100%";var a=e.querySelector(this.mediaType);a&&e.removeChild(a),e.appendChild(n),this._load(n,i)},loadElt:function(t,e){var i=t;i.controls=this.params.mediaControls,i.autoplay=this.params.autoplay||!1,this._load(i,e)},_load:function(t,e){var i=this;"function"==typeof t.load&&t.load(),t.addEventListener("error",function(){i.fireEvent("error","Error loading media element")}),t.addEventListener("canplay",function(){i.fireEvent("canplay")}),t.addEventListener("ended",function(){i.fireEvent("finish")}),this.media=t,this.peaks=e,this.onPlayEnd=null,this.buffer=null,this.setPlaybackRate(this.playbackRate)},isPaused:function(){return!this.media||this.media.paused},getDuration:function(){var t=this.media.duration;return t>=1/0&&(t=this.media.seekable.end(0)),t},getCurrentTime:function(){return this.media&&this.media.currentTime},getPlayedPercents:function(){return this.getCurrentTime()/this.getDuration()||0},setPlaybackRate:function(t){this.playbackRate=t||1,this.media.playbackRate=this.playbackRate},seekTo:function(t){null!=t&&(this.media.currentTime=t),this.clearPlayEnd()},play:function(t,e){this.seekTo(t),this.media.play(),e&&this.setPlayEnd(e),this.fireEvent("play")},pause:function(){this.media&&this.media.pause(),this.clearPlayEnd(),this.fireEvent("pause")},setPlayEnd:function(t){var e=this;this.onPlayEnd=function(i){i>=t&&(e.pause(),e.seekTo(t))},this.on("audioprocess",this.onPlayEnd)},clearPlayEnd:function(){this.onPlayEnd&&(this.un("audioprocess",this.onPlayEnd),this.onPlayEnd=null)},getPeaks:function(t){return this.buffer?e.WebAudio.getPeaks.call(this,t):this.peaks||[]},getVolume:function(){return this.media.volume},setVolume:function(t){this.media.volume=t},destroy:function(){this.pause(),this.unAll(),this.media&&this.media.parentNode&&this.media.parentNode.removeChild(this.media),this.media=null}}),e.AudioElement=e.MediaElement,e.Drawer={init:function(t,e){this.container=t,this.params=e,this.width=0,this.height=e.height*this.params.pixelRatio,this.lastPos=0,this.initDrawer(e),this.createWrapper(),this.createElements()},createWrapper:function(){this.wrapper=this.container.appendChild(document.createElement("wave")),this.style(this.wrapper,{display:"block",position:"relative",userSelect:"none",webkitUserSelect:"none",height:this.params.height+"px"}),(this.params.fillParent||this.params.scrollParent)&&this.style(this.wrapper,{width:"100%",overflowX:this.params.hideScrollbar?"hidden":"auto",overflowY:"hidden"}),this.setupWrapperEvents()},handleEvent:function(t,e){!e&&t.preventDefault();var i,s=t.targetTouches?t.targetTouches[0].clientX:t.clientX,n=this.wrapper.getBoundingClientRect(),a=this.width,r=this.getWidth();return!this.params.fillParent&&a<r?(i=(s-n.left)*this.params.pixelRatio/a||0)>1&&(i=1):i=(s-n.left+this.wrapper.scrollLeft)/this.wrapper.scrollWidth||0,i},setupWrapperEvents:function(){var t=this;this.wrapper.addEventListener("click",function(e){var i=t.wrapper.offsetHeight-t.wrapper.clientHeight;if(0!=i){var s=t.wrapper.getBoundingClientRect();if(e.clientY>=s.bottom-i)return}t.params.interact&&t.fireEvent("click",e,t.handleEvent(e))}),this.wrapper.addEventListener("scroll",function(e){t.fireEvent("scroll",e)})},drawPeaks:function(t,e){this.resetScroll(),this.setWidth(e),this.params.barWidth?this.drawBars(t):this.drawWave(t)},style:function(t,e){return Object.keys(e).forEach(function(i){t.style[i]!==e[i]&&(t.style[i]=e[i])}),t},resetScroll:function(){null!==this.wrapper&&(this.wrapper.scrollLeft=0)},recenter:function(t){var e=this.wrapper.scrollWidth*t;this.recenterOnPosition(e,!0)},recenterOnPosition:function(t,e){var i=this.wrapper.scrollLeft,s=~~(this.wrapper.clientWidth/2),n=t-s,a=n-i,r=this.wrapper.scrollWidth-this.wrapper.clientWidth;if(0!=r){if(!e&&-s<=a&&a<s){n=i+(a=Math.max(-5,Math.min(5,a)))}(n=Math.max(0,Math.min(r,n)))!=i&&(this.wrapper.scrollLeft=n)}},getWidth:function(){return Math.round(this.container.clientWidth*this.params.pixelRatio)},setWidth:function(t){this.width=t,this.params.fillParent||this.params.scrollParent?this.style(this.wrapper,{width:""}):this.style(this.wrapper,{width:~~(this.width/this.params.pixelRatio)+"px"}),this.updateSize()},setHeight:function(t){t!=this.height&&(this.height=t,this.style(this.wrapper,{height:~~(this.height/this.params.pixelRatio)+"px"}),this.updateSize())},progress:function(t){var e=1/this.params.pixelRatio,i=Math.round(t*this.width)*e;if(i<this.lastPos||i-this.lastPos>=e){if(this.lastPos=i,this.params.scrollParent&&this.params.autoCenter){var s=~~(this.wrapper.scrollWidth*t);this.recenterOnPosition(s)}this.updateProgress(t)}},destroy:function(){this.unAll(),this.wrapper&&(this.container.removeChild(this.wrapper),this.wrapper=null)},initDrawer:function(){},createElements:function(){},updateSize:function(){},drawWave:function(t,e){},clearWave:function(){},updateProgress:function(t){}},e.util.extend(e.Drawer,e.Observer),e.Drawer.Canvas=Object.create(e.Drawer),e.util.extend(e.Drawer.Canvas,{createElements:function(){var t=this.wrapper.appendChild(this.style(document.createElement("canvas"),{position:"absolute",zIndex:1,left:0,top:0,bottom:0}));if(this.waveCc=t.getContext("2d"),this.progressWave=this.wrapper.appendChild(this.style(document.createElement("wave"),{position:"absolute",zIndex:2,left:0,top:0,bottom:0,overflow:"hidden",width:"0",display:"none",boxSizing:"border-box",borderRightStyle:"solid",borderRightWidth:this.params.cursorWidth+"px",borderRightColor:this.params.cursorColor})),this.params.waveColor!=this.params.progressColor){var e=this.progressWave.appendChild(document.createElement("canvas"));this.progressCc=e.getContext("2d")}},updateSize:function(){var t=Math.round(this.width/this.params.pixelRatio);this.waveCc.canvas.width=this.width,this.waveCc.canvas.height=this.height,this.style(this.waveCc.canvas,{width:t+"px"}),this.style(this.progressWave,{display:"block"}),this.progressCc&&(this.progressCc.canvas.width=this.width,this.progressCc.canvas.height=this.height,this.style(this.progressCc.canvas,{width:t+"px"})),this.clearWave()},clearWave:function(){this.waveCc.clearRect(0,0,this.width,this.height),this.progressCc&&this.progressCc.clearRect(0,0,this.width,this.height)},drawBars:function(t,i){if(t[0]instanceof Array){var s=t;if(this.params.splitChannels)return this.setHeight(s.length*this.params.height*this.params.pixelRatio),void s.forEach(this.drawBars,this);t=s[0]}[].some.call(t,function(t){return t<0})&&(t=[].filter.call(t,function(t,e){return e%2==0}));var n=.5/this.params.pixelRatio,a=this.width,r=this.params.height*this.params.pixelRatio,o=r*i||0,h=r/2,u=t.length,l=this.params.barWidth*this.params.pixelRatio,d=Math.max(this.params.pixelRatio,~~(l/2)),c=l+d,f=1;this.params.normalize&&(f=e.util.max(t));var m=u/a;this.waveCc.fillStyle=this.params.waveColor,this.progressCc&&(this.progressCc.fillStyle=this.params.progressColor),[this.waveCc,this.progressCc].forEach(function(e){if(e)for(var i=0;i<a;i+=c){var s=Math.round(t[Math.floor(i*m)]/f*h);e.fillRect(i+n,h-s+o,l+n,2*s)}},this)},drawWave:function(t,i){if(t[0]instanceof Array){var s=t;if(this.params.splitChannels)return this.setHeight(s.length*this.params.height*this.params.pixelRatio),void s.forEach(this.drawWave,this);t=s[0]}if(![].some.call(t,function(t){return t<0})){for(var n=[],a=0,r=t.length;a<r;a++)n[2*a]=t[a],n[2*a+1]=-t[a];t=n}var o=.5/this.params.pixelRatio,h=this.params.height*this.params.pixelRatio,u=h*i||0,l=h/2,d=~~(t.length/2),c=1;this.params.fillParent&&this.width!=d&&(c=this.width/d);var f=1;if(this.params.normalize){var m=e.util.max(t),p=e.util.min(t);f=-p>m?-p:m}this.waveCc.fillStyle=this.params.waveColor,this.progressCc&&(this.progressCc.fillStyle=this.params.progressColor),[this.waveCc,this.progressCc].forEach(function(e){if(e){e.beginPath(),e.moveTo(o,l+u);for(var i=0;i<d;i++){var s=Math.round(t[2*i]/f*l);e.lineTo(i*c+o,l-s+u)}for(i=d-1;i>=0;i--){s=Math.round(t[2*i+1]/f*l);e.lineTo(i*c+o,l-s+u)}e.closePath(),e.fill(),e.fillRect(0,l+u-o,this.width,o)}},this)},updateProgress:function(t){var e=Math.round(this.width*t)/this.params.pixelRatio;this.style(this.progressWave,{width:e+"px"})},getImage:function(t,e){return this.waveCc.canvas.toDataURL(t,e)}}),e.Drawer.MultiCanvas=Object.create(e.Drawer),e.util.extend(e.Drawer.MultiCanvas,{initDrawer:function(t){if(this.maxCanvasWidth=null!=t.maxCanvasWidth?t.maxCanvasWidth:4e3,this.maxCanvasElementWidth=Math.round(this.maxCanvasWidth/this.params.pixelRatio),this.maxCanvasWidth<=1)throw"maxCanvasWidth must be greater than 1.";if(this.maxCanvasWidth%2==1)throw"maxCanvasWidth must be an even number.";this.hasProgressCanvas=this.params.waveColor!=this.params.progressColor,this.halfPixel=.5/this.params.pixelRatio,this.canvases=[]},createElements:function(){this.progressWave=this.wrapper.appendChild(this.style(document.createElement("wave"),{position:"absolute",zIndex:2,left:0,top:0,bottom:0,overflow:"hidden",width:"0",display:"none",boxSizing:"border-box",borderRightStyle:"solid",borderRightWidth:this.params.cursorWidth+"px",borderRightColor:this.params.cursorColor})),this.addCanvas()},updateSize:function(){for(var t=Math.round(this.width/this.params.pixelRatio),e=Math.ceil(t/this.maxCanvasElementWidth);this.canvases.length<e;)this.addCanvas();for(;this.canvases.length>e;)this.removeCanvas();for(var i in this.canvases){var s=this.maxCanvasWidth+2*Math.ceil(this.params.pixelRatio/2);i==this.canvases.length-1&&(s=this.width-this.maxCanvasWidth*(this.canvases.length-1)),this.updateDimensions(this.canvases[i],s,this.height),this.clearWaveForEntry(this.canvases[i])}},addCanvas:function(){var t={},e=this.maxCanvasElementWidth*this.canvases.length;t.wave=this.wrapper.appendChild(this.style(document.createElement("canvas"),{position:"absolute",zIndex:1,left:e+"px",top:0,bottom:0})),t.waveCtx=t.wave.getContext("2d"),this.hasProgressCanvas&&(t.progress=this.progressWave.appendChild(this.style(document.createElement("canvas"),{position:"absolute",left:e+"px",top:0,bottom:0})),t.progressCtx=t.progress.getContext("2d")),this.canvases.push(t)},removeCanvas:function(){var t=this.canvases.pop();t.wave.parentElement.removeChild(t.wave),this.hasProgressCanvas&&t.progress.parentElement.removeChild(t.progress)},updateDimensions:function(t,e,i){var s=Math.round(e/this.params.pixelRatio),n=Math.round(this.width/this.params.pixelRatio);t.start=t.waveCtx.canvas.offsetLeft/n||0,t.end=t.start+s/n,t.waveCtx.canvas.width=e,t.waveCtx.canvas.height=i,this.style(t.waveCtx.canvas,{width:s+"px"}),this.style(this.progressWave,{display:"block"}),this.hasProgressCanvas&&(t.progressCtx.canvas.width=e,t.progressCtx.canvas.height=i,this.style(t.progressCtx.canvas,{width:s+"px"}))},clearWave:function(){for(var t in this.canvases)this.clearWaveForEntry(this.canvases[t])},clearWaveForEntry:function(t){t.waveCtx.clearRect(0,0,t.waveCtx.canvas.width,t.waveCtx.canvas.height),this.hasProgressCanvas&&t.progressCtx.clearRect(0,0,t.progressCtx.canvas.width,t.progressCtx.canvas.height)},drawBars:function(t,i){if(t[0]instanceof Array){var s=t;if(this.params.splitChannels)return this.setHeight(s.length*this.params.height*this.params.pixelRatio),void s.forEach(this.drawBars,this);t=s[0]}[].some.call(t,function(t){return t<0})&&(t=[].filter.call(t,function(t,e){return e%2==0}));var n=this.width,a=this.params.height*this.params.pixelRatio,r=a*i||0,o=a/2,h=t.length,u=this.params.barWidth*this.params.pixelRatio,l=u+Math.max(this.params.pixelRatio,~~(u/2)),d=1;this.params.normalize&&(d=e.util.max(t));for(var c=h/n,f=0;f<n;f+=l){var m=Math.round(t[Math.floor(f*c)]/d*o);this.fillRect(f+this.halfPixel,o-m+r,u+this.halfPixel,2*m)}},drawWave:function(t,i){if(t[0]instanceof Array){var s=t;if(this.params.splitChannels)return this.setHeight(s.length*this.params.height*this.params.pixelRatio),void s.forEach(this.drawWave,this);t=s[0]}if(![].some.call(t,function(t){return t<0})){for(var n=[],a=0,r=t.length;a<r;a++)n[2*a]=t[a],n[2*a+1]=-t[a];t=n}var o=this.params.height*this.params.pixelRatio,h=o*i||0,u=o/2,l=1;if(this.params.normalize){var d=e.util.max(t),c=e.util.min(t);l=-c>d?-c:d}this.drawLine(t,l,u,h),this.fillRect(0,u+h-this.halfPixel,this.width,this.halfPixel)},drawLine:function(t,e,i,s){for(var n in this.canvases){var a=this.canvases[n];this.setFillStyles(a),this.drawLineToContext(a,a.waveCtx,t,e,i,s),this.drawLineToContext(a,a.progressCtx,t,e,i,s)}},drawLineToContext:function(t,e,i,s,n,a){if(e){var r=i.length/2,o=1;this.params.fillParent&&this.width!=r&&(o=this.width/r);var h=Math.round(r*t.start),u=Math.round(r*t.end);e.beginPath(),e.moveTo(this.halfPixel,n+a);for(var l=h;l<u;l++){var d=Math.round(i[2*l]/s*n);e.lineTo((l-h)*o+this.halfPixel,n-d+a)}for(l=u-1;l>=h;l--){d=Math.round(i[2*l+1]/s*n);e.lineTo((l-h)*o+this.halfPixel,n-d+a)}e.closePath(),e.fill()}},fillRect:function(t,e,i,s){for(var n in this.canvases){var a=this.canvases[n],r=n*this.maxCanvasWidth,o={x1:Math.max(t,n*this.maxCanvasWidth),y1:e,x2:Math.min(t+i,n*this.maxCanvasWidth+a.waveCtx.canvas.width),y2:e+s};o.x1<o.x2&&(this.setFillStyles(a),this.fillRectToContext(a.waveCtx,o.x1-r,o.y1,o.x2-o.x1,o.y2-o.y1),this.fillRectToContext(a.progressCtx,o.x1-r,o.y1,o.x2-o.x1,o.y2-o.y1))}},fillRectToContext:function(t,e,i,s,n){t&&t.fillRect(e,i,s,n)},setFillStyles:function(t){t.waveCtx.fillStyle=this.params.waveColor,this.hasProgressCanvas&&(t.progressCtx.fillStyle=this.params.progressColor)},updateProgress:function(t){var e=Math.round(this.width*t)/this.params.pixelRatio;this.style(this.progressWave,{width:e+"px"})}}),t=function(){var t=document.querySelectorAll("wavesurfer");Array.prototype.forEach.call(t,function(t){var i=e.util.extend({container:t,backend:"MediaElement",mediaControls:!0},t.dataset);t.style.display="block";var s=e.create(i);if(t.dataset.peaks)var n=JSON.parse(t.dataset.peaks);s.load(t.dataset.url,n)})},"complete"===document.readyState?t():window.addEventListener("load",t),e});var elementAudio=document.createElement("audio");elementAudio.src=IRON.state.theme_url+"/js/assets/default.wav";var elementAudioSingle=document.createElement("audio");function hideEmptyAttribut(t,e){""==t?e.css("display","none"):e.css("display","block")}elementAudioSingle.src=IRON.state.theme_url+"/js/assets/default.wav",IRON.audioPlayer=function(t){"use strict";var e;var i=function(t,e,i){t.on("finish",function(){u(e,i)})},s=function(t,e){t.on("ready",function(){t.isPlaying()||(t.play(),o(e,t))})};function n(t,e,i,s){var n,a,o=i.find(".album .album-art"),h=i.find(".track-title"),u=i.find(".sr_it-artists-value"),d=i.find(".album-title"),c=(d=i.find(".sr_it-playlist-title"),i.find(".sr_it-date-value"));o.find("img").length?o.find("img").attr("src",t.data("albumart")):o.css("background-image","url("+t.data("albumart")+")"),i.hasClass("show-playlist")||(o.one("click",function(){l(e,i)}),o.css("cursor","pointer")),i.data("currentTrack",e),IRON.state.enable_ajax||(h.text(t.data("tracktitle")),u.text(t.data("trackartists")),c.text(t.data("releasedate")),d.text(t.data("albumtitle")),i.find(".player").removeClass("hide"),t.data("showloading")?i.find(".progressLoading").css("opacity","0.75"):i.find(".player").addClass("hide"),r(t.data("audiopath"),s),n=i,(a=s).on("ready",function(){if(!a.isPlaying()){var t=moment.duration(a.getDuration(),"seconds");n.find(".totalTime").html(moment(t.minutes()+":"+t.seconds(),"m:s").format("mm:ss")),a.on("audioprocess",function(){var t=moment.duration(a.getCurrentTime(),"seconds");n.find(".currentTime").html(moment(t.minutes()+":"+t.seconds(),"m:s").format("mm:ss"))})}})),hideEmptyAttribut(t.data("releasedate"),i.find(".sr_it-playlist-release-date")),hideEmptyAttribut(t.data("trackartists"),i.find(".sr_it-playlist-artists"))}function a(){t(".playlist li").each(function(){var e=t(this).find(".store-list").outerWidth(),i=t(this).find(".track-number").outerWidth();t(this).find(".tracklist-item-title").css("max-width",t(this).outerWidth()-e-i-10)})}var r=function(t,e){setTimeout(function(){elementAudio.src=t,e.load(elementAudio)},250)};function o(e,i){t.each(IRON.players,function(t,e){IRON.players[t].audioPlayer.removeClass("audio-playing")}),i.isPlaying()?e.addClass("audio-playing"):e.removeClass("audio-playing")}function h(t,e){if(IRON.state.enable_ajax){var i=t.find(".playlist"),s=t.data("currentTrack");return(IRON.sonaar.player.wavesurfer.getCurrentTime()>=.1||IRON.sonaar.player.wavesurfer.isPlaying())&&IRON.sonaar.player.url==t.data("url-playlist")?void IRON.sonaar.player.play():(1==IRON.sonaar.player.wavesurfer.getDuration()&&IRON.sonaar.player.wavesurfer.play(),void i.find("li").eq(s).find("a").click())}e.playPause(),o(t,e)}function u(t,e,i){var s=t.data("currentTrack")+1;i.find("li").eq(s).length||(s=0),e.pause(),i.find("li").eq(s).find("a").click()}function l(t,e){IRON.sonaar.player.setPlaylist(e,t)}return{init:function(r){var d=r;this.audioPlayer=r;var c=this.audioPlayer.find(".player .wave").attr("id"),f=d.find(".playlist");this.playlist=f,this.autoplayEnable=d.data("autoplay");var m,p,v=WaveSurfer.create({container:"#"+c,cursorWidth:0,barWidth:1,progressColor:iron_vars.sonaar_music.color_progress,waveColor:iron_vars.sonaar_music.color_base,height:70,backend:"MediaElement",mediaControls:!1});v.on("loading",function(){var t=arguments[0];d.find(".progressLoading").css("background",iron_vars.sonaar_music.color_base),d.find(".progressLoading").css("width","calc( "+t+"% - 200px )"),100==t&&(d.find(".player").addClass("reveal"),d.find(".progressLoading").css("opacity","0"))}),this.wavesurfer=v,m=v,p=d,f.find("li").each(function(){var e,i,a,r,h;e=t(this),i=t(this).index(),a=m,r=p,h=t("<span/>",{class:"track-number",html:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 17.5 21.2" style="enable-background:new 0 0 17.5 21.2;" xml:space="preserve"><path d="M0,0l17.5,10.9L0,21.2V0z"></path><rect width="6" height="21.2"></rect><rect x="11.5" width="6" height="21.2"></rect></svg><span class="number">'+(i+1)+"</span>"}),t(""),t("<a/>",{class:"audio-track",click:function(h){0!=t(this).parent().attr("data-audiopath").length&&(IRON.state.enable_ajax?(l(i,r),r.data("currentTrack",i)):(n(e,i,r,a),r.find(".playlist li").removeClass("current"),e.addClass("current"),s(a,r),o(r,a)))}}).appendTo(e).prepend(h).append('<div class="tracklist-item-title">'+e.data("tracktitle")+"</div>")}),n(f.find("li").eq(0),f.find("li").index(),d,v),y=v,g=d,_=f,w=g.find(".control"),IRON.state.enable_ajax&&g.find(".wave").remove(),w.on("click",".play",function(){h(g,y),s(y,g)}),w.on("click",".previous",function(){var t,e,i;t=y,e=_,i=g.data("currentTrack")-1,"2"<t.getCurrentTime()?t.seekTo(0):e.find("li").eq(i).find("a").click()}),w.on("click",".next",function(){u(g,y,_)}),i(v,d,f),a(),t(window).on("resize",function(){a()}),d.data("autoplay")&&(e=!0);var y,g,_,w},getPlayer:function(){return this},play:function(){h(this.audioPlayer,this.wavesurfer)},autoplayEnable:e,triggerPlay:s}}(jQuery),IRON.artistPlayer=function(t){"use strict";var e,i,s,n={promise:t.Deferred()},a=!1,r=function(){i.find("#artistPlayer").addClass("reveal")},o=function(){IRON.artistPlayer.playlist.promise=t.Deferred(),t.when(t.getJSON(i.data("url-playlist"))).done(function(e){i.addClass("enable"),IRON.initPusherHeight(),t("body").addClass("artistPlayer-enable"),n.url=i.data("url-playlist"),n.list=e,IRON.artistPlayer.playlist.promise.resolve()})},h=function(s,r){n.currentTrack=s,i.find("#artistPlayer").removeClass("reveal"),t.when(IRON.artistPlayer.playlist.promise).done(function(){i.find(".album-art img").attr("src",n.list.tracks[s].poster).css("display","block"),i.find(".metadata .album-title").text(n.list.tracks[s].album_title),i.find(".sr_it-playlist-title").text(n.list.tracks[s].album_title),i.find(".metadata .track-name").text(n.list.tracks[s].track_title),i.find(".sr_it-artists-value").html(n.list.tracks[s].release_date),i.find(".sr_it-date-value").html(n.list.tracks[s].artist),l(n.list.tracks[s].mp3),IRON.artistPlayer.continuousPlayer&&m(),n.list.tracks[s].loading?i.find(".progressLoading").css("opacity","0.75"):i.find("#artistPlayer").addClass("hide"),a&&e.on("ready",function(){e.play(),c()})})},u=function(){e.on("finish",function(){p()})},l=function(t){s=setTimeout(function(){IRON.artistPlayer.continuousPlayer?(elementAudio.src=t,e.load(elementAudio)):(elementAudioSingle.src=t,e.load(elementAudioSingle))},250)};var d=function(){IRON.sonaar.player.classes.enable=!1,t("body").removeClass("continuousPlayer-enable"),IRON.artistPlayer.continuousPlayer=!0},c=function(){e.isPlaying()?i.addClass("audio-playing"):i.removeClass("audio-playing")};function f(){a=!0,e.playPause(),c()}var m=function(){IRON.sonaar.player.setPlaylist(i,n.currentTrack)};function p(){clearTimeout(s);var t=n.currentTrack+1;t+1>n.list.length&&(t=0),h(t)}return{setPlayer:function(){IRON.artistPlayer.continuousPlayer=!1,a=!1,i=t(".artist_player");var l,c=iron_vars.sonaar_music.continuous_background;""==iron_vars.sonaar_music.continuous_background&&(c="rgb(0,0,0)"),i.css("background-color",c),(e=WaveSurfer.create({container:"#artistPlayer",cursorWidth:0,barWidth:1,progressColor:iron_vars.sonaar_music.continuous_progress_bar,waveColor:iron_vars.sonaar_music.continuous_timeline_background,height:36,backend:"MediaElement",mediaControls:!1,partialRender:!0})).load(elementAudioSingle),IRON.artistPlayer.wavesurfer=e,(l=i.find(".control")).find(".play").css({fill:iron_vars.sonaar_music.continuous_control_color,path:iron_vars.sonaar_music.continuous_control_color}),l.find(".next").css({fill:iron_vars.sonaar_music.continuous_control_color,path:iron_vars.sonaar_music.continuous_control_color}),l.find(".previous").css({fill:iron_vars.sonaar_music.continuous_control_color,path:iron_vars.sonaar_music.continuous_control_color}),l.on("click",".play",function(t){IRON.artistPlayer.continuousPlayer?f():(a=!0,IRON.initPusherHeight(),d(),m(),o(),h(n.currentTrack))}),l.on("click",".previous",function(){!function(){clearTimeout(s);var t=n.currentTrack-1;"2"<e.getCurrentTime()?e.seekTo(0):(t<0&&(t=n.list.length-1),h(t))}()}),l.on("click",".next",function(){p()}),u(),IRON.artistPlayer.playlist.promise=t.Deferred(),o(),h(0),e.on("loading",function(){var t=arguments[0];i.find(".progressLoading").css("background",iron_vars.sonaar_music.continuous_progress_bar),i.find(".progressLoading").css("width","calc( "+t+"% - 275px )"),100==t&&(r(),i.find(".progressLoading").css("opacity","0"))})},setPlaylist:o,setCurrentTrack:h,playlist:n,play:f}}(jQuery),jQuery(".artist_player").length&&IRON.artistPlayer.setPlayer(),IRON.players=[],jQuery(".iron-audioplayer").each(function(){var t=Object.create(IRON.audioPlayer);t.init(jQuery(this)),IRON.players.push(t)});