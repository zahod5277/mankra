"use strict";$=jQuery;var $wrap=$(".classic-menu"),$menu=$wrap.find("#menu-main-menu"),menu_height=$menu.outerHeight(!0);function responsiveMenu(){IRON.state.responsive=!1;var s=!1!==IRON.state.logo.page_logo_select?IRON.state.logo.page_logo_select:IRON.state.logo.logo_select,e=IRON.state.logo.light_responsive?"light":"dark";if(void 0!==IRON.state.logo[s])var i=IRON.state.logo[s].url.slice(IRON.state.logo[s].url.indexOf("/")),l=IRON.state.logo[s].url_retina.slice(IRON.state.logo[s].url_retina.indexOf("/"));var n=IRON.state.logo[e].url.slice(IRON.state.logo[e].url.indexOf("/")),a=IRON.state.logo[e].url_retina.slice(IRON.state.logo[e].url_retina.indexOf("/"));if($(window).width()<1144){if(IRON.state.responsive=!0,$(".classic-menu").addClass("responsive").removeClass("mini"),$(".classic-menu").find(".classic-menu-logo").attr("src",n),$(".classic-menu").find(".classic-menu-logo").attr("srcset",n+" 1x, "+a+" 2x"),$(".responsive-header").length<1){$('<div class="responsive-header"><a class="sandwich-icon"></a></div>').prependTo(".classic-menu"),$(".classic-menu.responsive .hotlink").first().addClass("first-hotlink"),$(".classic-menu.responsive .hotlink").eq(-2).addClass("last-hotlink");var o=$(".classic-menu.responsive .hotlink").length,t=(100-10*(parseInt(o)-3))/2;o>2&&$(".classic-menu.responsive .hotlink.first-hotlink, .classic-menu.responsive .hotlink.last-hotlink").attr("style","width: "+t+"% !important"),1==o&&$(".classic-menu.responsive .hotlink, .classic-menu.responsive .hotlink a").attr("style","width: 100% !important; text-align:center !important;"),0==jQuery(".languages-selector").children().length&&$(".languages-selector").remove(),$(".classic-menu > ul").height("auto"),$(".classic-menu > ul > li.menu-item").css("margin-top","auto")}$(".responsive-header").off().on("click",".sandwich-icon",function(s){if($(".classic-menu").is(".visible"))return $(".sandwich-icon").removeClass("opened"),$(".classic-menu").removeClass("visible"),$(".classic-menu").scrollTop(0),!1;$(".sandwich-icon").addClass("opened"),$(".classic-menu").addClass("visible")}),$(".classic-menu ul li a").off().on("click",function(s){var e=$(this).parents("li");$(this).parents("#menu-main-menu").find("li").each(function(s){_.contains(e,this)||$(this).removeClass("active")}),$(this).closest("li").not(".logo").toggleClass("active"),"#"==$(this).attr("href")?s.preventDefault():($(".classic-menu").removeClass("visible"),$(".classic-menu .sandwich-icon").removeClass("opened"),$(".classic-menu").scrollTop(0))})}else $(".classic-menu").removeClass("responsive"),$(".classic-menu").hasClass("mini")?""!=IRON.state.logo.logo_mini_url&&$(".classic-menu").find(".classic-menu-logo").attr("src",IRON.state.logo.logo_mini_url):($(".classic-menu").find(".classic-menu-logo").attr("src",i),$(".classic-menu").find(".classic-menu-logo").attr("srcset",i+" 1x, "+l+" 2x")),$(".classic-menu .hotlink").attr("style",""),$(".classic-menu .responsive-header").remove()}$(window).load(function(){$(".classic-menu").addClass("ready")}),$("html").hasClass("no-touchevents")?($(window).on("load",responsiveMenu),$(window).on("resize",responsiveMenu)):($(window).on("resize",responsiveMenu),$(window).on("load",responsiveMenu)),IRON.setupMenu=function(){$menu.find('>li:not(".hotlink")').length;var s=!1!==IRON.state.logo.page_logo_select?IRON.state.logo.page_logo_select:IRON.state.logo.logo_select,e=IRON.state.logo.logo_select;IRON.state.logo.light_responsive;if(void 0!==IRON.state.logo[s])var i=IRON.state.logo[s].url.slice(IRON.state.logo[s].url.indexOf("/")),l=IRON.state.logo[s].url_retina.slice(IRON.state.logo[s].url_retina.indexOf("/"));var n=IRON.state.logo.logo_mini_url.slice(IRON.state.logo.logo_mini_url.indexOf("/")),a=IRON.state.logo[e].url.slice(IRON.state.logo[e].url.indexOf("/"));IRON.state.logo[e].url_retina.slice(IRON.state.logo[e].url_retina.indexOf("/"));if($(document).on("scroll touchmove",function(s){var e=$(this).scrollTop(),o=$(this).scrollTop();!$(".classic-menu").hasClass("mini-active")&&!$(".classic-menu").hasClass("mini-fullwidth-active")||$(".classic-menu").hasClass("responsive")||(e>150&&($(".classic-menu").hasClass("mini")||$(".classic-menu").css("width","100%").addClass("mini"),""!=n&&($(".classic-menu").find(".classic-menu-logo").attr("src",n),$(".classic-menu").find(".classic-menu-logo").attr("srcset",n+" 1x, "+n+" 2x")),i!==a&&($(".classic-menu").find(".classic-menu-logo").attr("src",a),$(".classic-menu").find(".classic-menu-logo").attr("srcset",a+" 1x, "+n+" 2x"))),e<=150&&($(".classic-menu").hasClass("mini")&&$(".classic-menu").css("width",$("body").width()-2*parseInt(iron_vars.menu.classic_menu_hmargin)).removeClass("mini"),$(".classic-menu").find(".classic-menu-logo").attr("src",i),$(".classic-menu").find(".classic-menu-logo").attr("srcset",i+" 1x, "+l+" 2x"))),o,$(".classic-menu").css("height","")}),IRON.state.logo.enable){if(IRON.state.logo.dark.url||IRON.state.logo.light.url)var o=$('<div class="logo '+IRON.state.logo.logo_align+'"><a href="'+IRON.state.site_url+'"><img class="classic-menu-logo" src="'+i+'" srcset="'+i+" 1x, "+l+' 2x" alt="'+IRON.state.site_name+'"></a></div>');else o=$('<div class="logo '+IRON.state.logo.logo_align+'"><a href="'+IRON.state.site_url+'">'+IRON.state.site_name+"</a></div>");$wrap.find(".logo").length?$wrap.find(".logo img").attr({src:i,srcset:i+" 1x, "+l+" 2x"}):$wrap.prepend(o)}if($wrap.hasClass("classic_menu_logo_align-pull-top")){var t=$wrap.find(".spacer");if($wrap.find(".classic-menu-hot-links").length){var c=$wrap.find(".classic-menu-hot-links");t.width(c.width())}}if($wrap.hasClass("classic_menu_logo_align-pull-center")){t=$wrap.find(".spacer");if($wrap.find(".classic-menu-hot-links").length){c=$wrap.find(".classic-menu-hot-links");t.width(c.width())}if($wrap.find(".logo").length&&!$menu.find(".logo").length){var r=$wrap.find(".logo a").clone(),u=(r=$('<li class="logo"/>').append(r),$menu.find(">li").eq(Math.floor($menu.find(">li").length/2)));r.insertBefore(u)}}$menu.find(">li a").on("mouseover",function(s){if($(this).find(" + ul").length>0){var e=$(this).find(" + ul");e.outerWidth(!0)+e.offset().left>$(window).width()&&$(this).parent().addClass("collision")}})},$(window).on("load",IRON.setupMenu);